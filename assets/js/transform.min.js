!function(e){function d(t){t=t.split(")");for(var s,i,r,f,d,p,v,m,y,a=e.trim,n=t.length-1,o=1,c=0,l=0,u=1,g=0,k=0;n--;){switch(s=t[n].split("("),i=a(s[0]),r=s[1],f=d=p=v=0,i){case"translateX":g+=parseInt(r,10);continue;case"translateY":k+=parseInt(r,10);continue;case"translate":r=r.split(","),g+=parseInt(r[0],10),k+=parseInt(r[1]||0,10);continue;case"rotate":r=h(r),f=Math.cos(r),d=Math.sin(r),p=-Math.sin(r),v=Math.cos(r);break;case"scaleX":f=r,v=1;break;case"scaleY":f=1,v=r;break;case"scale":r=r.split(","),f=r[0],v=r.length>1?r[1]:r[0];break;case"skewX":f=v=1,p=Math.tan(h(r));break;case"skewY":f=v=1,d=Math.tan(h(r));break;case"skew":f=v=1,r=r.split(","),p=Math.tan(h(r[0])),d=Math.tan(h(r[1]||0));break;case"matrix":r=r.split(","),f=+r[0],d=+r[1],p=+r[2],v=+r[3],g+=parseInt(r[4],10),k+=parseInt(r[5],10)}m=o*f+c*p,c=o*d+c*v,y=l*f+u*p,u=l*d+u*v,o=m,l=y}return[o,c,l,u,g,k]}function p(e){var t,a,n,s=e[0],i=e[1],r=e[2],o=e[3];return s*o-i*r?(t=Math.sqrt(s*s+i*i),s/=t,i/=t,n=s*r+i*o,r-=s*n,o-=i*n,a=Math.sqrt(r*r+o*o),r/=a,o/=a,n/=a,i*r>s*o&&(s=-s,i=-i,n=-n,t=-t)):rotate=t=a=n=0,{translate:[+e[4],+e[5]],rotate:Math.atan2(i,s),scale:[t,a],skew:[n,0]}}function v(t){t=t.split(")");for(var c,l,u,a=[0,0],n=0,s=[1,1],i=[0,0],r=t.length-1,o=e.trim;r--;)c=t[r].split("("),l=o(c[0]),u=c[1],"translateX"==l?a[0]+=parseInt(u,10):"translateY"==l?a[1]+=parseInt(u,10):"translate"==l?(u=u.split(","),a[0]+=parseInt(u[0],10),a[1]+=parseInt(u[1]||0,10)):"rotate"==l?n+=h(u):"scaleX"==l?s[0]*=u:"scaleY"==l?s[1]*=u:"scale"==l?(u=u.split(","),s[0]*=u[0],s[1]*=u.length>1?u[1]:u[0]):"skewX"==l?i[0]+=h(u):"skewY"==l?i[1]+=h(u):"skew"==l&&(u=u.split(","),i[0]+=h(u[0]),i[1]+=h(u[1]||"0"));return{translate:a,rotate:n,scale:s,skew:i}}function h(e){return~e.indexOf("deg")?parseInt(e,10)*(2*Math.PI/360):~e.indexOf("grad")?parseInt(e,10)*(Math.PI/200):parseFloat(e)}function m(e){return e=/\(([^,]*),([^,]*),([^,]*),([^,]*),([^,p]*)(?:px)?,([^)p]*)(?:px)?/.exec(e),[e[1],e[2],e[3],e[4],e[5],e[6]]}for(var o,c,l,u,t=document.createElement("div"),a=t.style,n="transform",s="Transform",i=["O"+s,"ms"+s,"Webkit"+s,"Moz"+s,n],r=i.length,f=/Matrix([^)]*)/;r--;)i[r]in a&&(e.support[n]=o=i[r]);o||(e.support.matrixFilter=c=""===a.filter),t=a=null,e.cssNumber[n]=!0,o&&o!=n?(e.cssProps[n]=o,o=="Moz"+s?l={get:function(t,a){return a?e.css(t,o).split("px").join(""):t.style[o]},set:function(e,t){e.style[o]=/matrix[^)p]*\)/.test(t)?t.replace(/matrix((?:[^,]*,){4})([^,]*),([^)]*)/,"matrix$1$2px,$3px"):t}}:/^1\.[0-5](?:\.|$)/.test(e.fn.jquery)&&(l={get:function(t,a){return a?e.css(t,o.replace(/^ms/,"Ms")):t.style[o]}})):c&&(l={get:function(e,t){var n,a=t&&e.currentStyle?e.currentStyle:e.style;return a&&f.test(a.filter)?(n=RegExp.$1.split(","),n=[n[0].split("=")[1],n[2].split("=")[1],n[1].split("=")[1],n[3].split("=")[1]]):n=[1,0,0,1],n[4]=a?a.left:0,n[5]=a?a.top:0,"matrix("+n+")"},set:function(t,a,n){var i,r,o,s=t.style;n||(s.zoom=1),a=d(a),(!n||n.M)&&(r=["Matrix(M11="+a[0],"M12="+a[2],"M21="+a[1],"M22="+a[3],"SizingMethod='auto expand'"].join(),o=(i=t.currentStyle)&&i.filter||s.filter||"",s.filter=f.test(o)?o.replace(f,r):o+" progid:DXImageTransform.Microsoft."+r+")",(centerOrigin=e.transform.centerOrigin)&&(s["margin"==centerOrigin?"marginLeft":"left"]=-(t.offsetWidth/2)+t.clientWidth/2+"px",s["margin"==centerOrigin?"marginTop":"top"]=-(t.offsetHeight/2)+t.clientHeight/2+"px")),(!n||n.T)&&(s.left=a[4]+"px",s.top=a[5]+"px")}}),l&&(e.cssHooks[n]=l),u=l&&l.get||e.css,e.fx.step.transform=function(e){var s,r,f,h,y,g,P,t=e.elem,a=e.start,n=e.end,i=e.pos,k=!1,w=!1;if(f=h=y=g="",!a||"string"==typeof a){a||(a=u(t,o)),c&&(t.style.zoom=1),s=n.split(a),2==s.length&&(n=s.join(""),e.origin=a,a="none"),e.start=a="none"==a?{translate:[0,0],rotate:0,scale:[1,1],skew:[0,0]}:p(m(a)),e.end=n=~n.indexOf("matrix")?p(d(n)):v(n);for(P in a)("rotate"==P?a[P]==n[P]:a[P][0]==n[P][0]&&a[P][1]==n[P][1])&&delete a[P]}a.translate&&(f=" translate("+(a.translate[0]+(n.translate[0]-a.translate[0])*i+.5|0)+"px,"+(a.translate[1]+(n.translate[1]-a.translate[1])*i+.5|0)+"px)",k=!0),void 0!=a.rotate&&(h=" rotate("+(a.rotate+(n.rotate-a.rotate)*i)+"rad)",w=!0),a.scale&&(y=" scale("+(a.scale[0]+(n.scale[0]-a.scale[0])*i)+","+(a.scale[1]+(n.scale[1]-a.scale[1])*i)+")",w=!0),a.skew&&(g=" skew("+(a.skew[0]+(n.skew[0]-a.skew[0])*i)+"rad,"+(a.skew[1]+(n.skew[1]-a.skew[1])*i)+"rad)",w=!0),r=e.origin?e.origin+f+g+y+h:f+h+y+g,l&&l.set?l.set(t,r,{M:w,T:k}):t.style[o]=r},e.transform={centerOrigin:"margin"}}(jQuery);
